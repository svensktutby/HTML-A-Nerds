!function(){function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}var s=t(".feature"),n=t(".features__control"),l=0;if(o(l),n)for(var r=0;r<n.length;r++)a(r);function a(t){n[t].addEventListener("click",function(e){e.preventDefault(),o(l=t)})}function o(e){e>s.length-1&&(l=0),e<0&&(l=s.length-1);for(var t=0;t<s.length;t++){var r=s[t];r.classList.contains("feature--current")&&r.classList.remove("feature--current")}for(var a=0;a<n.length;a++){var o=n[a];o.classList.contains("features__control--current")&&o.classList.remove("features__control--current")}s[l]&&s[l].classList.add("feature--current"),n[l]&&n[l].classList.add("features__control--current")}var c=e(".contacts__btn"),i=e(".modal-overlay"),u=e(".modal-write-us");if(u){var d=u.querySelector(".modal-write-us__form"),v=u.querySelector(".modal-close"),f=d.querySelector("#user-name-write-us"),m=d.querySelector("#email-write-us"),L=d.querySelector("#message-write-us"),y=!0,h="",w="";try{h=localStorage.getItem("userNameWriteUs"),w=localStorage.getItem("emailWriteUs")}catch(e){y=!1}c.addEventListener("click",function(e){e.preventDefault(),i.classList.contains("modal-overlay--shown")||(i.classList.add("modal-overlay--shown"),h&&!w?(f.value=h,m.focus()):h&&w?(f.value=h,m.value=w,L.focus()):f.focus())}),v.addEventListener("click",function(e){e.preventDefault(),g()}),i.addEventListener("click",function(){g()}),u.addEventListener("click",function(e){e.stopPropagation()}),window.addEventListener("keydown",function(e){27===e.keyCode&&g()}),d&&d.addEventListener("submit",function(e){f.value&&m.value&&L.value?y&&(localStorage.setItem("userNameWriteUs",f.value),localStorage.setItem("emailWriteUs",m.value)):(e.preventDefault(),u.classList.remove("modal--error"),u.offsetWidth=u.offsetWidth,u.classList.add("modal--error"))})}function g(){i.classList.contains("modal-overlay--shown")&&(i.classList.remove("modal-overlay--shown"),i.classList.add("modal-overlay--hidden"),u.classList.contains("modal--error")&&u.classList.remove("modal--error"),window.setTimeout(function(){i.classList.remove("modal-overlay--hidden")},1150))}}();