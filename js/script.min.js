window.addEventListener("DOMContentLoaded",function(){function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}var a=e(".features"),s=t(".features__item"),o=t(".features__control");function l(e){for(var t=e;t<s.length;t++)s[t].classList.remove("feature--current"),o[t].classList.remove("features__control--current")}l(1),a&&a.addEventListener("click",function(e){for(var t,a=e.target,r=0;r<o.length;r++)if(a.matches(".features__control")&&a==o[r]){s[t=r].classList.contains("feature--current")||(l(0),s[t].classList.add("feature--current"),o[t].classList.add("features__control--current"));break}});var r=e(".contacts__btn"),n=e(".modal-overlay"),i=e(".modal-write-us");if(i){var c=i.querySelector(".modal-write-us__form"),d=i.querySelector(".modal-close"),u=c.querySelector("#user-name-write-us"),m=c.querySelector("#email-write-us"),v=c.querySelector("#message-write-us"),f=!0,L="",y="";try{L=localStorage.getItem("userNameWriteUs"),y=localStorage.getItem("emailWriteUs")}catch(e){f=!1}r.addEventListener("click",function(e){e.preventDefault(),n.classList.contains("visually-hidden")&&(n.classList.remove("visually-hidden"),n.classList.contains("modal-overlay--hidden")&&n.classList.remove("modal-overlay--hidden"),n.classList.add("modal-overlay--shown"),document.body.style.overflow="hidden",L&&!y?(u.value=L,m.focus()):L&&y?(u.value=L,m.value=y,v.focus()):u.focus())}),n.addEventListener("click",function(e){e.target===n||e.target===d?h():e.stopPropagation()}),window.addEventListener("keydown",function(e){27===e.keyCode&&h()}),c&&c.addEventListener("submit",function(e){u.value&&m.value&&v.value?f&&(localStorage.setItem("userNameWriteUs",u.value),localStorage.setItem("emailWriteUs",m.value)):(e.preventDefault(),i.classList.remove("modal--error"),i.offsetWidth=i.offsetWidth,i.classList.add("modal--error"))})}function h(){n.classList.contains("visually-hidden")||(n.classList.remove("modal-overlay--shown"),n.classList.add("modal-overlay--hidden"),document.body.style.overflow="",i.classList.contains("modal--error")&&i.classList.remove("modal--error"),window.setTimeout(function(){n.classList.add("visually-hidden")},1190))}});